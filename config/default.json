{
  "services": {

    "queue": {
      "path": "./src/services/queue"
    },

    "events": {
      "path": "./src/services/events"
    },

    "logger": {
      "path": "./src/services/logger",
      "options": {
        "formatters": {
          "default": {
            "format": "[%(date)s] %-15.15(name)s %(levelname)s: %(message)s",
            "datefmt": "%Y-%m-%dT%H:%M:%S.%L%z",
            "colorize": false
          }
        },
        "handlers": {
          "terminal": {
            "class": "intel/handlers/console",
            "level": "VERBOSE",
            "formatter": "default"
          }
        },
        "loggers": {
          "root": {
            "level": "INFO",
            "handlers": ["terminal"],
            "handleExceptions": true,
            "exitOnError": false
          }
        }
      }
    },

    "github": {
      "path": "./src/services/github",
      "options": {
        "host": "api.github.com",
        "debug": false,
        "version": "3.0.0",
        "timeout": 5000,
        "protocol": "https",
        "headers": {
          "user-agent": "DevExp-App"
        }
      },
      "dependencies": []
    },

    "http": {
      "path": "./src/services/http",
      "options": {
        "port": "8080",
        "routes": {
          "/github": "http-route-github"
        }
      },
      "dependencies": [
        "logger",
        "http-route-github"
      ]
    },

    "#include:http-routes": "./default-http-routes.json",

    "mongoose": {
      "path": "./src/services/mongoose",
      "options": {
        "host": "mongodb://localhost/devexp"
      },
      "dependencies": ["logger"]
    },

    "model": {
      "path": "./src/services/model",
      "options": {
        "addons": {
          "pull_request": [
            "pull-request-github-addon",
            "pull-request-review-addon"
          ]
        }
      },
      "dependencies": [
        "mongoose",
        "pull-request-github-addon",
        "pull-request-review-addon"
      ]
    },

    "team": {
      "path": "./src/services/team",
      "options": {
        "routes": [
          { "team-github": ["*/*"] }
        ]
      },
      "dependencies": [
        "team-github"
      ]
    },

    "#include:teams": "./default-teams.json",

    "pull-request-model": {
      "path": "./src/services/pull-request-model",
      "dependencies": [
        "model"
      ]
    },

    "pull-request-github": {
      "path": "./src/services/pull-request-github",
      "options": {
        "separator": {
          "top": "<div id='devexp-content-top'></div><hr>",
          "bottom": "<div id='devexp-content-bottom'></div>"
        }
      },
      "dependencies": [
        "github",
        "pull-request-model"
      ]
    },

    "pull-request-github-addon": {
      "path": "./src/services/pull-request-github/addon"
    },

    "pull-request-review-addon": {
      "path": "./src/services/pull-request-review/addon",
      "options": {
        "approveCount": 2,
        "teamOverrides": {
          "team-github": {
            "approveCount": 1
          }
        }
      },
      "dependencies": [
        "team",
        "events",
        "logger"
      ]
    }

  }
}
